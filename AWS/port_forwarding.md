# AWS 서버 연결 도메인 port 숨기기 (포트 포워딩)

## 문제

- IP와 도메인 연결 후 'https://도메인:포트번호'로 특정 포트를 기입해야 했는데 포트 번호 없이 접속하고 싶었음

## 해결방안

1. EC2 쉘 접속

2. 포트포워딩 정보 입력

```
iptables -A PREROUTING -t nat -i eth0 -p tcp --dport <들어오는포트번호> -j REDIRECT --to-port <내보내는포트번호>
```

- <들어오는포트번호>로 들어오는 요청은 <내보내는포트번호>로 들어온 요청으로 변환

- 포트포워딩: 전달받은 패킷에 IP:Port 정보를 포트 포워딩 설정 정보 참고하여 특정 IP:Port로 변환시켜주는 기능. 주로 공유기에서 외부 IP로 들어온 Port에 따라 어떤 기기(내부IP)에 연결시켜줄지 결정할 때 필요함.