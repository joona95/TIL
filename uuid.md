# UUID

## 1. UUID란?

* UUID(Universally unique identifier)란 정보 식별을 위한 범용 고유 식별자.
<br>
* 128bit 숫자로 이루어지며, 36개 문자 (8개문자-4개문자-4개문자-4개문자-12개문자, 32개문자/4개하이픈) 로 이루어짐. 
* 고유성을 완벽하게 보장할 순 없어도 실제 사용하면서 중복될 가능성 거의 없음
* 버전에 따라 생성되는 규칙이 다름
    * 버전 1 : 시간 + MAC주소
    * 버전 2 : 시간 + DCE보안
    * 버전 3 : 시간 + MD5해시
    * 버전 4 : 시간 + 랜덤
    * 버전 5 : 시간 + SHA-1해시

## 2. UUID 장점과 단점
* 장점
    * 사용 시 거의 중복이 되지 않을 고유키 생성 가능. UUID는 총 340,282,366,920,938,463,463,374,607,431,768,211,456 개의 키를 만들 수 있음.
    * DB와 각 언어에서 UUID 생성 기능 제공. 표준에 따라 UUID 생성하므로 고유성 충족 가능.
    * 키가 생성되는 규칙은 존재하지만 키값의 의미나 연속성 유추하기 어려워서 보안에 좋음.
* 단점
    * 16 바이트 이상을 사용하므로 크기가 큼.
    * 연속성이 없고 의미를 유추하기 어려워 PK와 인덱스로 사용 시 단점이 됨.


## 3. UUID 사용 방법
* JAVA
    ```
    import java.util.UUID;

    public class Main{
        public static void main(String[] args) {
            UUID id = UUID.randomUUID();
        }
    }
    ```
<br>

* Node.js

    ```
    npm install uuid
    ```

    ```
    import { v4 as uuid4 } from 'uuid';
    uuidv4();
    ```

## 4. 결론

DB에서 파일 관련 id를 UUID로 사용하는 것을 봐서 UUID가 무엇이고 왜 사용하는지 궁금해졌다.
이번 경우에는 AWS S3 에 파일 업로드하는 것 같은데, AWS에서 ㄴ파일명이 겹치면 문제가 생긴다고 UUID로 id 값을 생성하고 해당 id 값으로 파일을 저장하고 있었다. 결국 중복값을 최대한 피하기 위해 사용하는 듯 했다.